  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competition & Leaderboard</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      h1, h2 {
        text-align: center;
      }
      .form-container, .leaderboard {
        margin: 20px auto;
        max-width: 600px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background: #f9f9f9;
      }
      .form-container input, .form-container button {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        font-size: 16px;
      }
      ul {
        list-style: none;
        padding: 0;
      }
      li {
        padding: 10px;
        margin: 5px 0;
        background: #f4f4f4;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .top-player {
        font-weight: bold;
        color: #2c3e50;
      }
    </style>
  </head>
  <body>
    <h1>Competition & Leaderboard</h1>
    
    <!-- Form to Add Player -->
    <div class="form-container">
      <h2>Add Player Result</h2>
      <input type="text" id="playerName" placeholder="Player Name" required>
      <input type="number" id="score" placeholder="Score" required>
      <input type="number" id="totalTime" placeholder="Total Time (seconds)" required>
      <button id="addResultButton">Add Result</button>
    </div>

    <!-- Leaderboard -->
    <div class="leaderboard">
      <h2>Top 3 Players</h2>
      <ul id="top-players"></ul>

      <h2>All Players</h2>
      <ul id="all-players"></ul>
    </div>

    <script type="module">
      // Import Firebase SDK
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import { getFirestore, collection, addDoc, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

      // Firebase Configuration
      const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Add Player Result
      document.getElementById("addResultButton").addEventListener("click", async () => {
        const playerName = document.getElementById("playerName").value;
        const score = parseInt(document.getElementById("score").value);
        const totalTime = parseInt(document.getElementById("totalTime").value);

        if (playerName && score && totalTime) {
          try {
            await addDoc(collection(db, "Ramadan"), {
              playerName: playerName,
              score: score,
              totalTime: totalTime,
              Date: new Date(),
            });
            alert("Result added successfully!");
            displayTopPlayers();
            displayAllPlayers();
          } catch (error) {
            console.error("Error adding result: ", error);
          }
        } else {
          alert("Please fill in all fields!");
        }
      });

      // Display Top 3 Players
      async function displayTopPlayers() {
        const topPlayersList = document.getElementById("top-players");
        topPlayersList.innerHTML = ""; // Clear previous results
        const q = query(collection(db, "Ramadan"), orderBy("score", "desc"), limit(3));
        const querySnapshot = await getDocs(q);

        querySnapshot.forEach((doc) => {
          const li = document.createElement("li");
          li.textContent = `${doc.data().playerName}: ${doc.data().score} points`;
          li.classList.add("top-player");
          topPlayersList.appendChild(li);
        });
      }

      // Display All Players
      async function displayAllPlayers() {
        const allPlayersList = document.getElementById("all-players");
        allPlayersList.innerHTML = ""; // Clear previous results
        const q = query(collection(db, "Ramadan"), orderBy("score", "desc"));
        const querySnapshot = await getDocs(q);

        querySnapshot.forEach((doc) => {
          const li = document.createElement("li");
          li.textContent = `${doc.data().playerName}: ${doc.data().score} points`;
          allPlayersList.appendChild(li);
        });
      }

      // Initial Display
      displayTopPlayers();
      displayAllPlayers();
    </script>
  </body>
  </html>
